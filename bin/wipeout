#! /usr/bin/env ruby

SCRPT_AUTHOR    = 'nyx-a'
SCRPT_VERSION   = '2007 11/29 thu'

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - #

DELETELEVEL = [
  ['*~', '.*~'],
  ['a.out', '*.o'],
]

def filedate (fname)
  mtime = File.mtime(fname)
  [
    mtime.strftime('%Y %m/%d %H:%M:%S %Z'),
    '(',
    '%10.1f' % [(Time.now - mtime) / 3600],
    'Hour )',
    fname,
  ].join(' ')
end

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - #

GAUGE = ARGV.join.size

done = false
for pattern in DELETELEVEL[0..GAUGE].flatten
  Dir.glob(pattern) do |filename|
    puts filedate(filename)
    File.unlink filename
    done = true
  end
end
puts if done
